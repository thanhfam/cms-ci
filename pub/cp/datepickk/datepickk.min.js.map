{"version":3,"sources":["datepickk.js"],"names":["Datepickk","args","generateDaynames","that","el","days","innerHTML","ws","weekStart","languages","lang","daynames","x","months","weekEl","document","createElement","setAttribute","i","dayNameIndex","dayNames","length","dayEl","dayTextEl","appendChild","generateYears","slice","call","yearPicker","childNodes","forEach","node","index","currentYear","parseInt","getAttribute","toString","substring","generateInputs","highlightLegend","e","hexToRgb","hex","result","exec","r","g","b","target","nodeName","legendIds","split","legendId","element","legend","querySelector","type","color","removeAttribute","tables","container","input","id","numInstances","label","text","tooltip","addEventListener","eventName","event","locked","preventDefault","inputChange","generateLegends","hoverLegend","querySelectorAll","this","classList","add","remove","start","Date","end","_highlights","highlight","filter","m","dates","legends","l","oldLegend","backgroundColor","legendItem","indexOf","legendItemPoint","push","item","removeEventListener","removeChild","parseMonth","month","generateDates","year","monthElements","getDate","daysLast","startDay","getDay","monthText","monthNames","inputEl","labelEl","nextSibling","checked","className","date","toJSON","disabledDates","getTime","disabledDays","minDate","maxDate","today","setHours","tooltips","bgColor","percent","Math","round","z","Color","setDate","resetCalendar","currentMonth","getFullYear","getMonth","header","c","monthPicker","startmonth","endmonth","monthint","yearname","renderSelectedDates","onNavigation","selectedDates","range","currentDate","sorted","sort","a","first","monthPickEl","yearPickEl","nextMonth","prevMonth","selectDate","ignoreOnSelect","onSelect","apply","unselectDate","unselectAll","maxSelections","closeOnSelect","hide","setRange","val","show","properties","inline","body","setArgs","handler","calendar","whichAnimationEvent","opened","startDate","parentNode","onClose","bindEvents","contains","button","overlay","closeOnClick","startX","distance","changedTouches","clientX","originalEvent","key","init","getBrowserVersion","template","titleBox","window","FastClick","attach","currentDateGetter","currentDateSetter","no","se","ru","en","de","nb","nn","title","onConfirm","Object","defineProperties","get","set","innerText","console","error","isOpen","Array","map","hl","highlightObj","hlDate","callback","fullscreen","bind","ret","String","y","HTMLElement","freeze","t","transitions","animation","OAnimation","MozAnimation","WebkitAnimation","","undefined","style","tem","ios","browser","version","ua","navigator","userAgent","M","match","test","appName","appVersion","splice","define","amd","exports","module"],"mappings":"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","file":"datepickk.min.js","sourcesContent":["/*!\r\n * Datepickk\r\n * Docs & License: https://crsten.github.com/datepickk\r\n * (c) 2016 Carsten Jacobsen\r\n */\r\n(function(){\r\n\r\n\tfunction Datepickk(args){\r\n\t\tDatepickk.numInstances = (Datepickk.numInstances || 0) + 1;\r\n\t\tvar that = this;\r\n\t\tvar eventName = 'click';\r\n\t\tvar selectedDates = [];\r\n\r\n\t\tvar currentYear = new Date().getFullYear();\r\n\t\tvar currentMonth = new Date().getMonth() + 1;\r\n\r\n\t\tvar languages = {\r\n\t\t\tno: {\r\n\t\t\t\tmonthNames:['Januar','Februar','Mars','April','Mai','Juni','Juli','August','September','Oktober','November','Desember'],\r\n\t\t\t\tdayNames:['sø','ma','ti','on','to','fr','lø'],\r\n\t\t\t\tweekStart:1\r\n\t\t\t},\r\n\t\t\tse: {\r\n\t\t\t\tmonthNames:['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december'],\r\n\t\t\t\tdayNames:['sö','må','ti','on','to','fr','lö'],\r\n\t\t\t\tweekStart:1\r\n\t\t\t},\r\n\t\t\tru: {\r\n\t\t\t\tmonthNames:['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],\r\n\t\t\t\tdayNames:['вс','пн','вт','ср','чт','пт','сб'],\r\n\t\t\t\tweekStart:1\r\n\t\t\t},\r\n\t\t\ten: {\r\n\t\t\t\tmonthNames:['january','february','march','april','may','june','july','august','september','october','november','december'],\r\n\t\t\t\tdayNames:['su','mo','tu','we','th','fr','sa'],\r\n\t\t\t\tweekStart:0\r\n\t\t\t},\r\n\t\t\tde: {\r\n\t\t\t\tmonthNames:['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'],\r\n\t\t\t\tdayNames:['So','Mo','Di','Mi','Do','Fr','Sa'],\r\n\t\t\t\tweekStart:1\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/*Language aliases*/\r\n\t\tlanguages.nb = languages.no;\r\n\t\tlanguages.nn = languages.no;\r\n\r\n\t\tvar range = false;\r\n\t\tvar maxSelections = null;\r\n\t\tvar container = document.body;\r\n\t\tvar opened = false;\r\n\t\tvar months = 1;\r\n\t\tvar closeOnSelect = false;\r\n\t\tvar button = null;\r\n\t\tvar title = null;\r\n\t\tvar onNavigation = null;\r\n\t\tvar onClose = null;\r\n\t\tvar onConfirm = null;\r\n\t\tvar closeOnClick = true;\r\n\t\tvar inline = false;\r\n\t\tvar lang = 'en';\r\n\t\tvar onSelect = null;\r\n\t\tvar disabledDates = [];\r\n\t\tvar disabledDays = [];\r\n\t\tvar highlight = [];\r\n\t\tvar tooltips = {};\r\n\t\tvar daynames = true;\r\n\t\tvar today = true;\r\n\t\tvar startDate = null;\r\n\t\tvar minDate = null;\r\n\t\tvar maxDate = null;\r\n\t\tvar weekStart = null;\r\n\t\tvar locked = false;\r\n\r\n\t\tfunction generateDaynames(){\r\n\t\t\tthat.el.days.innerHTML = '';\r\n\t\t\tvar ws = (weekStart !== null) ? weekStart : languages[lang].weekStart;\r\n\t\t\tif(daynames){\r\n\t\t\t\tfor(var x = 0;x<months && x<3;x++){\r\n\t\t\t\t\tvar weekEl = document.createElement('div');\r\n\t\t\t\t\t\tweekEl.setAttribute('class','d-week');\r\n\t\t\t\t\tfor(var i = 0; i < 7;i++){\r\n\t\t\t\t\t\tvar dayNameIndex = (i + ws > languages[lang].dayNames.length - 1) ? i + ws - languages[lang].dayNames.length : i + ws;\r\n\r\n\t\t\t\t\t\tvar dayEl = document.createElement('div');\r\n\t\t\t\t\t\tvar\tdayTextEl = document.createElement('p');\r\n\t\t\t\t\t\t\tdayTextEl.innerHTML = languages[lang].dayNames[dayNameIndex];\r\n\r\n\t\t\t\t\t\t\tdayEl.appendChild(dayTextEl);\r\n\t\t\t\t\t\t\tweekEl.appendChild(dayEl);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.el.days.appendChild(weekEl);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction generateYears(){\r\n\t\t\t[].slice.call(that.el.yearPicker.childNodes).forEach(function(node,index) {\r\n\t\t\t\tnode.innerHTML = \"'\" + (currentYear + parseInt(node.getAttribute('data-year'))).toString().substring(2,4);\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tfunction generateInputs(){\r\n\t\t\tthat.el.tables.innerHTML = '';\r\n\t\t\tfor(var x = 0;x<months;x++){\r\n\t\t\t\tvar container = document.createElement('div');\r\n\t\t\t\t\tcontainer.setAttribute('class','d-table');\r\n\t\t\t\tfor(var i = 0;i<42;i++){\r\n\t\t\t\t\tvar input = document.createElement('input');\r\n\t\t\t\t\t\tinput.type = 'checkbox';\r\n\t\t\t\t\t\tinput.id   = Datepickk.numInstances + '-' + x + '-d-day-' + i;\r\n\t\t\t\t\tvar label = document.createElement('label');\r\n\t\t\t\t\t\tlabel.setAttribute(\"for\",Datepickk.numInstances + '-' + x + '-d-day-' + i);\r\n\r\n\t\t\t\t\tvar text = document.createElement('text');\r\n\r\n\t\t\t\t\tvar tooltip = document.createElement('span');\r\n\t\t\t\t\t\ttooltip.setAttribute('class','d-tooltip');\r\n\r\n\r\n\t\t\t\t\tcontainer.appendChild(input);\r\n\t\t\t\t\tcontainer.appendChild(label);\r\n\r\n\t\t\t\t\tlabel.appendChild(text);\r\n\t\t\t\t\tlabel.appendChild(tooltip);\r\n\r\n\t\t\t\t\tinput.addEventListener(eventName,function(event){\r\n\t\t\t\t\t\tif(locked){\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tinput.addEventListener('change',inputChange);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.el.tables.appendChild(container);\r\n\t\t\t}\r\n\r\n\t\t\tthat.el.tables.addEventListener('mouseover',highlightLegend);\r\n\t\t\tthat.el.tables.addEventListener('mouseout',highlightLegend);\r\n\r\n\t\t\tfunction highlightLegend(e){\r\n\t\t\t\tif(e.target.nodeName !== 'LABEL') return;\r\n\r\n\t\t\t\tvar legendIds = (e.target.getAttribute('data-legend-id'))?e.target.getAttribute('data-legend-id').split(' '):[];\r\n\t\t\t\tif(!legendIds.length) return;\r\n\r\n\t\t\t\tlegendIds.forEach(function(legendId) {\r\n\t\t\t\t\tvar element = that.el.legend.querySelector('[data-legend-id=\"' + legendId + '\"]');\r\n\t\t\t\t\tif(e.type == 'mouseover' && element){\r\n\t\t\t\t\t\tvar color = (element.getAttribute('data-color'))?hexToRgb(element.getAttribute('data-color')):null;\r\n\t\t\t\t\t\telement.setAttribute('style','background-color:rgba(' + color.r + ',' + color.g + ',' + color.b + ',0.35);');\r\n\t\t\t\t\t}else if(element){\r\n\t\t\t\t\t\telement.removeAttribute('style');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfunction hexToRgb(hex) {\r\n\t\t\t\t    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\t\t\t\t    return result ? {\r\n\t\t\t\t        r: parseInt(result[1], 16),\r\n\t\t\t\t        g: parseInt(result[2], 16),\r\n\t\t\t\t        b: parseInt(result[3], 16)\r\n\t\t\t\t    } : null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction generateLegends(){\r\n\t\t\tvar start = new Date(that.el.tables.childNodes[0].childNodes[0].getAttribute('data-date'));\r\n\t\t\tvar end = new Date(that.el.tables.childNodes[months-1].childNodes[82].getAttribute('data-date'));\r\n\t\t\tvar _highlights = highlight.filter(function(x){\r\n\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\r\n\t\t\t\t\tif(x.dates[m].start < end && x.dates[m].end > start){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tvar legends = [];\r\n\t\t\tfor(var l = 0;l<_highlights.length;l++){\r\n\t\t\t\tif('legend' in _highlights[l] && _highlights[l].legend){\r\n\t\t\t\t\tvar oldLegend = container.querySelector('.d-legend-item[data-legend=\"' + _highlights[l].legend + '\"][data-color=\"' + _highlights[l].backgroundColor + '\"]');\r\n\t\t\t\t\tif(oldLegend == null){\r\n\t\t\t\t\t\tvar legendItem = document.createElement('p');\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('class','d-legend-item');\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend',_highlights[l].legend);\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend-id',highlight.indexOf(_highlights[l]));\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-color',_highlights[l].backgroundColor);\r\n\t\t\t\t\t\tvar legendItemPoint = document.createElement('span');\r\n\t\t\t\t\t\t\tlegendItemPoint.setAttribute('style','background-color:' + _highlights[l].backgroundColor);\r\n\r\n\t\t\t\t\t\tlegendItem.appendChild(legendItemPoint);\r\n\r\n\t\t\t\t\t\tthat.el.legend.appendChild(legendItem);\r\n\t\t\t\t\t\tlegendItem.addEventListener('mouseover',hoverLegend);\r\n\t\t\t\t\t\tlegendItem.addEventListener('mouseout',hoverLegend);\r\n\t\t\t\t\t\tlegends.push(legendItem);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlegends.push(oldLegend);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t[].slice.call(that.el.legend.querySelectorAll('.d-legend-item')).forEach(function(item) {\r\n\t\t\t\tif(legends.indexOf(item) < 0){\r\n\t\t\t\t\titem.removeEventListener('mouseover',hoverLegend);\r\n\t\t\t\t\titem.removeEventListener('mouseout',hoverLegend);\r\n\t\t\t\t\tthat.el.legend.removeChild(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfunction hoverLegend(e){\r\n\t\t\t\t[].slice.call(that.el.tables.querySelectorAll('[data-legend-id*=\"' + this.getAttribute('data-legend-id') + '\"]')).forEach(function(element) {\r\n\t\t\t\t\tif(e.type == 'mouseover') element.classList.add('legend-hover');\r\n\t\t\t\t\telse element.classList.remove('legend-hover');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction parseMonth(month){\r\n\t\t\tif(month > 11) month -= 12;\r\n\t\t\telse if(month < 0) month += 12;\r\n\t\t\treturn month;\r\n\t\t}\r\n\r\n\t\tfunction generateDates(year,month){\r\n\t\t\tvar monthElements = that.el.querySelectorAll('.d-table');\r\n\t\t\tvar ws = (weekStart !== null) ? weekStart : languages[lang].weekStart;\r\n\r\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table')).forEach(function(element, index) {\r\n\t\t\t\tvar days = new Date(year,month + index,0).getDate();\r\n\t\t\t\tvar daysLast = new Date(year,month + index - 1,0).getDate();\r\n\t\t\t\tvar startDay = new Date(year,month + index - 1,1).getDay();\r\n\t\t\t\tvar startDate = null;\r\n\t\t\t\tvar endDate = null;\r\n\t\t\t\tif(startDay - ws < 0){\r\n\t\t\t\t\tstartDay = 7 - ws;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstartDay -= ws;\r\n\t\t\t\t}\r\n\t\t\t\tvar monthText = languages[lang].monthNames[parseMonth(month - 1 + index)];\r\n\t\t\t\telement.setAttribute('data-month',monthText);\r\n\r\n\t\t\t\t[].slice.call(element.querySelectorAll('.d-table input')).forEach(function(inputEl,i) {\r\n\t\t\t\t\tvar labelEl = inputEl.nextSibling;\r\n\r\n\t\t\t\t\tinputEl.checked = false;\r\n\t\t\t\t\tinputEl.removeAttribute('disabled');\r\n\t\t\t\t\tlabelEl.removeAttribute('style');\r\n\t\t\t\t\tlabelEl.removeAttribute('data-legend-id');\r\n\t\t\t\t\tlabelEl.className = '';\r\n\r\n\t\t\t\t\tvar date = null;\r\n\t\t\t\t\tif(i < startDay){\r\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = daysLast - (startDay - i - 1);\r\n\t\t\t\t\t\tif(index == 0){\r\n\t\t\t\t\t\t\tdate = new Date(year,month + index - 2,daysLast - (startDay - i - 1));\r\n\t\t\t\t\t\t\tlabelEl.className = 'prev';\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tdate = '';\r\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\r\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(i < days + startDay){\r\n\t\t\t\t\t\tdate = new Date(year,month + index - 1,i - startDay+1);\r\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = i - startDay + 1;\r\n\t\t\t\t\t\tlabelEl.className = '';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = i - days - startDay + 1;\r\n\t\t\t\t\t\tif(index == monthElements.length-1){\r\n\t\t\t\t\t\t\tdate = new Date(year,month + index,i - days - startDay + 1);\r\n\t\t\t\t\t\t\tlabelEl.className = 'next';\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tdate = '';\r\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\r\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(date instanceof Date){\r\n\t\t\t\t\t\tinputEl.setAttribute('data-date',date.toJSON());\r\n\r\n\t\t\t\t\t\tif(disabledDates.indexOf(date.getTime()) != -1 || disabledDays.indexOf(date.getDay()) != -1){\r\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif((minDate && date < minDate) || (maxDate && date > maxDate)){\r\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\r\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(today && date.getTime() == new Date().setHours(0,0,0,0)){\r\n\t\t\t\t\t\t\tlabelEl.classList.add('today');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlabelEl.classList.remove('today');\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tif(tooltips[date.getTime()]){\r\n\t\t\t\t\t\t\tlabelEl.childNodes[0].setAttribute('data-tooltip',true);\r\n\t\t\t\t\t\t\tlabelEl.childNodes[1].innerHTML = tooltips[date.getTime()];\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlabelEl.childNodes[0].removeAttribute('data-tooltip');\r\n\t\t\t\t\t\t\tlabelEl.childNodes[1].innerHTML = '';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar _highlights = highlight.filter(function(x){\r\n\t\t\t\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\r\n\t\t\t\t\t\t\t\tif(date.getTime() >= x.dates[m].start.getTime() && date.getTime() <= x.dates[m].end.getTime()){\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif(_highlights.length > 0){\r\n\t\t\t\t\t\t\tvar bgColor = '';\r\n\t\t\t\t\t\t\tvar legendIds = '';\r\n\r\n\t\t\t\t\t\t\tif(_highlights.length > 1){\r\n\t\t\t\t\t\t\t\tvar percent = Math.round(100 / _highlights.length);\r\n\t\t\t\t\t\t\t\tbgColor = 'background: linear-gradient(-45deg,';\r\n\t\t\t\t\t\t\t\tfor(var z = 0;z < _highlights.length;z++){\r\n\t\t\t\t\t\t\t\t\tlegendIds += highlight.indexOf(_highlights[z]);\r\n\t\t\t\t\t\t\t\t\tif(z !== _highlights.length -1){legendIds += ' ';}\r\n\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*z) + '%';\r\n\t\t\t\t\t\t\t\t\tif(z != _highlights.length - 1){\r\n\t\t\t\t\t\t\t\t\t\tbgColor += ',';\r\n\t\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*(z+1)) + '%,';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbgColor += ');';\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tbgColor = (_highlights[0].backgroundColor)?'background:'+ _highlights[0].backgroundColor + ';':'';\r\n\t\t\t\t\t\t\t\tlegendIds += highlight.indexOf(_highlights[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar Color = (_highlights[0].color)?'color:'+ _highlights[0].color + ';':'';\r\n\t\t\t\t\t\t\tlabelEl.setAttribute('style',bgColor + Color);\r\n\t\t\t\t\t\t\tlabelEl.setAttribute('data-legend-id',legendIds);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tgenerateLegends();\r\n\t\t};\r\n\r\n\t\tfunction setDate(){\r\n\t\t\tif(!that.el.tables.childNodes.length || !that.el.tables.childNodes[0].childNodes.length) return;\r\n\r\n\t\t\tresetCalendar();\r\n\r\n\t\t\tif(currentMonth > 12 || currentMonth < 1){\r\n\t\t\t\tif(currentMonth > 12){\r\n\t\t\t\t\tcurrentYear += 1;\r\n\t\t\t\t\tcurrentMonth -= 12;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcurrentYear -= 1;\r\n\t\t\t\t\tcurrentMonth += 12;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(maxDate && new Date(currentYear,currentMonth-1+months-1,1) >= new Date(maxDate).setDate(1)){\r\n\t\t\t\tcurrentYear = maxDate.getFullYear();\r\n\t\t\t\tcurrentMonth = maxDate.getMonth() + 1 - months + 1;\r\n\t\t\t\tthat.el.header.childNodes[2].setAttribute('style','visibility:hidden');\r\n\t\t\t}else{\r\n\t\t\t\tthat.el.header.childNodes[2].removeAttribute('style');\r\n\t\t\t}\r\n\t\t\tif(minDate && new Date(currentYear,currentMonth -1,1) <= new Date(minDate).setDate(1)){\r\n\t\t\t\tcurrentYear = minDate.getFullYear();\r\n\t\t\t\tcurrentMonth = minDate.getMonth() + 1;\r\n\t\t\t\tthat.el.header.childNodes[0].setAttribute('style','visibility:hidden');\r\n\t\t\t}else{\r\n\t\t\t\tthat.el.header.childNodes[0].removeAttribute('style');\r\n\t\t\t}\r\n\r\n\t\t\tfor(var c = 0;c < months;c++){\r\n\t\t\t\tvar index = currentMonth-1+c;\r\n\t\t\t\tif(index > 11){\r\n\t\t\t\t\tindex -= 12;\r\n\t\t\t\t}else if(index < 0){\r\n\t\t\t\t\tindex += 12;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.el.monthPicker.childNodes[index].classList.add('current');\r\n\t\t\t}\r\n\r\n\t\t\tgenerateDates(currentYear,currentMonth);\r\n\t\t\tgenerateYears();\r\n\t\t\tvar startmonth = languages[lang].monthNames[currentMonth-1];\r\n\t\t\tvar endmonth = '';\r\n\t\t\tif(months > 1){\r\n\t\t\t\tendmonth += ' - ';\r\n\t\t\t\tvar monthint = currentMonth-1+months-1;\r\n\t\t\t\tif(monthint > 11){\r\n\t\t\t\t\tmonthint -= 12;\r\n\t\t\t\t}else if(monthint < 0){\r\n\t\t\t\t\tmonthint += 12;\r\n\t\t\t\t}\r\n\t\t\t\tendmonth += languages[lang].monthNames[monthint];\r\n\t\t\t}\r\n\t\t\tvar yearname = (currentMonth-1+months-1 > 11)?currentYear.toString().substring(2,4) + '/' + (currentYear + 1).toString().substring(2,4):currentYear.toString().substring(2,4);\r\n\t\t\tthat.el.header.childNodes[1].childNodes[0].innerHTML = startmonth + endmonth;\r\n\t\t\tthat.el.header.childNodes[1].childNodes[1].innerHTML = yearname;\r\n\r\n\t\t\tthat.el.yearPicker.querySelector('[data-year=\"0\"]').classList.add('current');\r\n\t\t\tif(currentMonth-1+months-1>11){\r\n\t\t\t\tthat.el.yearPicker.querySelector('[data-year=\"1\"]').classList.add('current');\r\n\t\t\t}\r\n\r\n\t\t\trenderSelectedDates();\r\n\t\t\tif(onNavigation) onNavigation.call(that);\r\n\t\t};\r\n\r\n\t\tfunction renderSelectedDates(){\r\n\t\t\tselectedDates.forEach(function(date) {\r\n\t\t\t\tvar el = that.el.querySelector('[data-date=\"' + date.toJSON() + '\"]');\r\n\t\t\t\tif(el){\r\n\t\t\t\t\tel.checked = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthat.el.tables.classList.remove('before');\r\n\t\t\tif(range && selectedDates.length > 1){\r\n\t\t\t\tvar currentDate = new Date(currentYear,currentMonth-1,1);\r\n\t\t\t\tvar sorted = selectedDates.sort(function(a,b){return a.getTime()-b.getTime()});\r\n\t\t\t\tvar first = that.el.querySelector('[data-date=\"'+ sorted[0].toJSON() +'\"]');\r\n\t\t\t\tif(!first && currentDate >= new Date(sorted[0].getFullYear(),sorted[0].getMonth(),1) && currentDate <= new Date(sorted[1].getFullYear(),sorted[1].getMonth(),1)){\r\n\t\t\t\t\tthat.el.tables.classList.add('before');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction resetCalendar(){\r\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table input')).forEach(function(inputEl) {\r\n\t\t\t\tinputEl.checked = false;\r\n\t\t\t});\r\n\r\n\t\t\t[].slice.call(that.el.monthPicker.querySelectorAll('.current')).forEach(function(monthPickEl) {\r\n\t\t\t\tmonthPickEl.classList.remove('current');\r\n\t\t\t});\r\n\r\n\t\t\t[].slice.call(that.el.yearPicker.querySelectorAll('.current')).forEach(function(yearPickEl) {\r\n\t\t\t\tyearPickEl.classList.remove('current');\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction nextMonth(){\r\n\t\t\tcurrentMonth += months;\r\n\t\t\tsetDate();\r\n\t\t};\r\n\r\n\t\tfunction prevMonth(){\r\n\t\t\tcurrentMonth -= months;\r\n\t\t\tsetDate();\r\n\t\t};\r\n\r\n\t\tfunction selectDate(date,ignoreOnSelect){\r\n\t\t\tdate = new Date(date);\r\n\t\t\tdate.setHours(0,0,0,0);\r\n\t\t\tvar el = that.el.querySelector('[data-date=\"'+ date.toJSON() +'\"]');\r\n\r\n\t\t\tif(range && el && el.checked) {\r\n\t\t\t\tel.classList.add('single');\r\n\t\t\t}\r\n\r\n\t\t\tif(el && !el.checked){\r\n\t\t\t\tel.checked = true;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tselectedDates.push(date);\r\n\r\n\t\t\tif(onSelect && !ignoreOnSelect){\r\n\t\t\t\tonSelect.apply(date,[true]);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction unselectDate(date,ignoreOnSelect){\r\n\t\t\tdate = new Date(date);\r\n\t\t\tdate.setHours(0,0,0,0);\r\n\t\t\tvar el = that.el.querySelector('[data-date=\"'+ date.toJSON() +'\"]');\r\n\t\t\tif(el){\r\n\t\t\t\tel.classList.remove('single');\r\n\t\t\t\tif(el.checked){el.checked = false;}\r\n\t\t\t}\r\n\r\n\t\t\tselectedDates = selectedDates.filter(function(x){return x.getTime() != date.getTime()});\r\n\r\n\t\t\tif(onSelect && !ignoreOnSelect){\r\n\t\t\t\tonSelect.call(date,false);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction unselectAll(ignoreOnSelect){\r\n\t\t\tselectedDates.forEach(function(date) {\r\n\t\t\t\tunselectDate(date,ignoreOnSelect);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction inputChange(e){\r\n\t\t\tvar input = this;\r\n\t\t\tvar date = new Date(input.getAttribute('data-date'));\r\n\t\t\tinput.classList.remove('single');\r\n\t\t\tif(locked){return;}\r\n\t\t\tif(range){\r\n\t\t\t\tthat.el.tables.classList.remove('before');\r\n\t\t\t}\r\n\t\t\tif(input.checked){\r\n\t\t\t\tif(maxSelections && selectedDates.length > maxSelections-1){\r\n\t\t\t\t\tvar length = selectedDates.length;\r\n\t\t\t\t\tfor(length; length > maxSelections-1; length --){\r\n\t\t\t\t\t\tunselectDate(selectedDates[0]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(range && selectedDates.length){\r\n\t\t\t\t\tvar first = that.el.querySelector('[data-date=\"'+ selectedDates[0].toJSON() +'\"]');\r\n\t\t\t\t\tif(!first && date > selectedDates[0]){\r\n\t\t\t\t\t\tthat.el.tables.classList.add('before');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tselectedDates.push(date);\r\n\r\n\t\t\t\tif(closeOnSelect){\r\n\t\t\t\t\tthat.hide();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(range && selectedDates.length == 1 && selectedDates[0].getTime() == date.getTime()){\r\n\t\t\t\t\tselectDate(date);\r\n\t\t\t\t\tinput.classList.add('single');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tselectedDates = selectedDates.filter(function(x){return x.getTime() != date.getTime()})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(onSelect){\r\n\t\t\t\tonSelect.call(date,input.checked);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction setRange(val){\r\n\t\t\tif(val){\r\n\t\t\t\trange = true;\r\n\t\t\t\tthat.el.tables.classList.add('range');\r\n\t\t\t}else{\r\n\t\t\t\trange = false;\r\n\t\t\t\tthat.el.tables.classList.remove('range');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction show(properties){\r\n\t\t\tif(!that.inline && that.container === document.body){document.body.classList.add('d-noscroll');}\r\n\t\t\tsetArgs(properties);\r\n\t\t\tvar handler = function(){\r\n\t\t\t\tthat.el.classList.remove('d-show');\r\n\t\t\t\tthat.el.calendar.removeEventListener(whichAnimationEvent(),handler);\r\n\t\t\t};\r\n\t\t\tthat.el.calendar.addEventListener(whichAnimationEvent(),handler);\r\n\t\t\tthat.el.classList.add('d-show');\r\n\t\t\tcontainer.appendChild(that.el);\r\n\t\t\topened = true;\r\n\t\t\tif(startDate){\r\n\t\t\t\tcurrentMonth = startDate.getMonth() + 1;\r\n\t\t\t\tcurrentYear = startDate.getFullYear();\r\n\t\t\t}\r\n\t\t\tsetDate();\r\n\t\t};\r\n\r\n\t\tfunction hide(){\r\n\t\t\tdocument.body.classList.remove('d-noscroll');\r\n\t\t\tvar handler = function(){\r\n\t\t\t\tthat.el.parentNode.removeChild(that.el);\r\n\t\t\t\topened = false;\r\n\t\t\t\tthat.el.classList.remove('d-hide');\r\n\t\t\t\tif(typeof onClose == 'function'){\r\n\t\t\t\t\tonClose.apply(that);\r\n\t\t\t\t}\r\n\t\t\t\tthat.el.removeEventListener(whichAnimationEvent(),handler);\r\n\t\t\t}\r\n\t\t\tthat.el.addEventListener(whichAnimationEvent(),handler);\r\n\t\t\tthat.el.classList.add('d-hide');\r\n\t\t};\r\n\r\n\t\tfunction bindEvents(){\r\n\t\t\tthat.el.header.childNodes[0].addEventListener(eventName,prevMonth);\r\n\t\t\tthat.el.header.childNodes[2].addEventListener(eventName,nextMonth);\r\n\t\t\tthat.el.header.childNodes[1].childNodes[0].addEventListener(eventName,function(){\r\n\t\t\t\tif(that.el.monthPicker.classList.contains('d-show')){\r\n\t\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.el.monthPicker.classList.add('d-show');\r\n\t\t\t\t}\r\n\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\r\n\t\t\t});\r\n\t\t\tthat.el.header.childNodes[1].childNodes[1].addEventListener(eventName,function(){\r\n\t\t\t\tgenerateYears();\r\n\t\t\t\tif(that.el.yearPicker.classList.contains('d-show')){\r\n\t\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.el.yearPicker.classList.add('d-show');\r\n\t\t\t\t}\r\n\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\r\n\t\t\t});\r\n\t\t\tthat.el.button.addEventListener(eventName,hide);\r\n\r\n\t\t\tthat.el.overlay.addEventListener(eventName,function(){\r\n\t\t\t\tif(closeOnClick){\r\n\t\t\t\t\tthat.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t[].slice.call(that.el.monthPicker.childNodes).forEach(function(monthPicker) {\r\n\t\t\t\tmonthPicker.addEventListener(eventName,function(){\r\n\t\t\t\t\tcurrentMonth = parseInt(this.getAttribute('data-month'));\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t[].slice.call(that.el.yearPicker.childNodes).forEach(function(yearPicker) {\r\n\t\t\t\tyearPicker.addEventListener(eventName,function(){\r\n\t\t\t\t\tcurrentYear += parseInt(this.getAttribute('data-year'));\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\r\n\t\t\t\t});\r\n\t\t\t})\r\n\r\n\t\t\tvar startX = 0;\r\n\t\t\tvar distance = 0;\r\n\t\t\tthat.el.calendar.addEventListener('touchstart',function(e){\r\n\t\t\t\tstartX = e.changedTouches[0].clientX || e.originalEvent.changedTouches[0].clientX;\r\n\t\t\t\t//e.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\tthat.el.calendar.addEventListener('touchmove',function(e){\r\n\t\t\t\tdistance = e.changedTouches[0].clientX - startX || e.originalEvent.changedTouches[0].clientX - startX;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\tthat.el.calendar.addEventListener('touchend',function(e){\r\n\t\t\t\tif(distance > 50){\r\n\t\t\t\t\tprevMonth();\r\n\t\t\t\t}else if(distance < -50){\r\n\t\t\t\t\tnextMonth();\r\n\t\t\t\t}\r\n\t\t\t\tdistance = 0;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction setArgs(x){\r\n\t\t\tfor(var key in x){\r\n\t\t\t\tif(key in that){\r\n\t\t\t\t\tthat[key] = x[key];\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tfunction init(){\r\n\t\t\tthat.el = document.createElement('div');\r\n\t\t\tthat.el.id = 'Datepickk';\r\n\t\t\tthat.el.classList.add(getBrowserVersion().type);\r\n\t\t\tthat.el.innerHTML = template;\r\n\t\t\tthat.el.calendar = that.el.childNodes[1];\r\n\t\t\tthat.el.titleBox = that.el.childNodes[0];\r\n\t\t\tthat.el.button = that.el.childNodes[3];\r\n\t\t\tthat.el.header = that.el.calendar.childNodes[0];\r\n\t\t\tthat.el.monthPicker = that.el.calendar.childNodes[1];\r\n\t\t\tthat.el.yearPicker = that.el.calendar.childNodes[2];\r\n\t\t\tthat.el.tables = that.el.calendar.childNodes[4];\r\n\t\t\tthat.el.days = that.el.calendar.childNodes[3];\r\n\t\t\tthat.el.overlay = that.el.childNodes[4];\r\n\t\t\tthat.el.legend = that.el.childNodes[2];\r\n\r\n\t\t\tsetArgs(args);\r\n\r\n\t\t\tgenerateInputs();\r\n\t\t\tgenerateDaynames();\r\n\t\t\tbindEvents();\r\n\r\n\t\t\tif(inline){\r\n\t\t\t\tshow();\r\n\t\t\t}\r\n\r\n\t\t\tif(window.FastClick != null){\r\n\t\t\t\tFastClick.attach(that.el);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthat.show = show;\r\n\t\tthat.hide = hide;\r\n\t\tthat.selectDate = selectDate;\r\n\t\tthat.unselectAll = unselectAll;\r\n\t\tthat.unselectDate = unselectDate;\r\n\r\n\t\tfunction currentDateGetter(){\r\n\t\t\treturn new Date(currentYear,currentMonth-1,1);\r\n\t\t}\r\n\t\tfunction currentDateSetter(x){\r\n\t\t\tx = new Date(x);\r\n\t\t\tcurrentMonth = x.getMonth() + 1;\r\n\t\t\tcurrentYear = x.getFullYear();\r\n\t\t\tsetDate();\r\n\t\t}\r\n\r\n\t\tObject.defineProperties(that,{\r\n\t\t\t\"selectedDates\": {\r\n\t\t\t\tget: function () {\r\n\t\t\t\t\treturn selectedDates.sort(function(a,b){return a.getTime() - b.getTime();});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"range\": {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn range;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x) {\r\n\t\t\t\t\tsetRange(x);\r\n\t\t\t\t\tif(x){maxSelections = 2;}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"button\": {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn button;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'string'){\r\n\t\t\t\t\t\tbutton = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tbutton = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.el.button.innerHTML = (button)?button:'';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"title\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn title;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'string'){\r\n\t\t\t\t\t\ttitle = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttitle = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.el.titleBox.innerText = (title)?title:'';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"lang\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn lang;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x in languages){\r\n\t\t\t\t\t\tlang = x;\r\n\t\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t\t\tsetDate();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error('Language not found');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"weekStart\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn (weekStart !== null) ? weekStart : languages[lang].weekStart;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'number' && x > -1 && x < 7){\r\n\t\t\t\t\t\tweekStart = x;\r\n\t\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t\t\tsetDate();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error('weekStart must be a number between 0 and 6');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"months\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn months;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'number' && x > 0){\r\n\t\t\t\t\t\tmonths = x;\r\n\t\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t\t\tgenerateInputs();\r\n\t\t\t\t\t\tsetDate();\r\n\r\n\t\t\t\t\t\tif(months == 1){\r\n\t\t\t\t\t\t\tthat.el.classList.remove('multi');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthat.el.classList.add('multi');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error('months must be a number > 0');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"isOpen\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn opened;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"closeOnSelect\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn closeOnSelect;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tcloseOnSelect = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcloseOnSelect = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"disabledDays\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn disabledDays;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\r\n\t\t\t\t\t\t\tif(typeof x[i] == 'number'){\r\n\t\t\t\t\t\t\t\tdisabledDays.push(x[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(typeof x == 'number'){\r\n\t\t\t\t\t\tdisabledDays = [x];\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\tdisabledDays = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"disabledDates\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn disabledDates.map(function(x){return new Date(x);});\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tx.forEach(function(date) {\r\n\t\t\t\t\t\t\tif(date instanceof Date){\r\n\t\t\t\t\t\t\t\tdisabledDates.push(new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else if(x instanceof Date){\r\n\t\t\t\t\t\tdisabledDates = [new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime()];\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\tdisabledDates = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"highlight\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn highlight;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tx.forEach(function(hl) {\r\n\t\t\t\t\t\t\tif(hl instanceof Object){\r\n\t\t\t\t\t\t\t\tvar highlightObj = {};\r\n\t\t\t\t\t\t\t\t\thighlightObj.dates = [];\r\n\r\n\t\t\t\t\t\t\t\tif('start' in hl){\r\n\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\t\t\tstart: new Date(hl.start.getFullYear(),hl.start.getMonth(),hl.start.getDate()),\r\n\t\t\t\t\t\t\t\t\t\tend: ('end' in hl)?new Date(hl.end.getFullYear(),hl.end.getMonth(),hl.end.getDate()):new Date(hl.start.getFullYear(),hl.start.getMonth(),hl.start.getDate())\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}else if('dates' in hl && hl.dates instanceof Array){\r\n\t\t\t\t\t\t\t\t\thl.dates.forEach(function(hlDate) {\r\n\t\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\t\t\t\tstart: new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate()),\r\n\t\t\t\t\t\t\t\t\t\t\tend: ('end' in hlDate)?new Date(hlDate.end.getFullYear(),hlDate.end.getMonth(),hlDate.end.getDate()):new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate())\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\thighlightObj.color \t\t\t\t= hl.color;\r\n\t\t\t\t\t\t\t\thighlightObj.backgroundColor \t= hl.backgroundColor;\r\n\t\t\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in hl)?hl.legend:null;\r\n\r\n\t\t\t\t\t\t\t\thighlight.push(highlightObj);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else if(x instanceof Object){\r\n\t\t\t\t\t\tvar highlightObj = {};\r\n\t\t\t\t\t\thighlightObj.dates = [];\r\n\r\n\t\t\t\t\t\tif('start' in x){\r\n\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\tstart: new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate()),\r\n\t\t\t\t\t\t\t\tend: ('end' in x)?new Date(x.end.getFullYear(),x.end.getMonth(),x.end.getDate()):new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate())\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}else if('dates' in x && x.dates instanceof Array){\r\n\t\t\t\t\t\t\tx.dates.forEach(function(hlDate) {\r\n\t\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\t\tstart: new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate()),\r\n\t\t\t\t\t\t\t\t\tend: ('end' in hlDate)?new Date(hlDate.end.getFullYear(),hlDate.end.getMonth(),hlDate.end.getDate()):new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate())\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\thighlightObj.color \t\t\t\t= x.color;\r\n\t\t\t\t\t\thighlightObj.backgroundColor \t= x.backgroundColor;\r\n\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in x)?x.legend:null;\r\n\r\n\t\t\t\t\t\thighlight.push(highlightObj);\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\thighlight = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onClose\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tonClose = callback;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onSelect\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tonSelect = callback;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"today\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn today;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\ttoday = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttoday = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"daynames\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn daynames;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tdaynames = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdaynames = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"fullscreen\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn that.el.classList.contains('fullscreen');\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tthat.el.classList.add('fullscreen');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.el.classList.remove('fullscreen');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"locked\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn locked;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tlocked = true;\r\n\t\t\t\t\t\tthat.el.tables.classList.add('locked');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlocked = false;\r\n\t\t\t\t\t\tthat.el.tables.classList.remove('locked');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"maxSelections\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn maxSelections;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'number' && !range){\r\n\t\t\t\t\t\tmaxSelections = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(range){\r\n\t\t\t\t\t\t\tmaxSelections = 2;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tmaxSelections = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onConfirm\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tif(typeof callback == 'function'){\r\n\t\t\t\t\t\tonConfirm = callback.bind(that);\r\n\t\t\t\t\t\tthat.el.button.addEventListener(eventName,onConfirm);\r\n\t\t\t\t\t}else if(!callback){\r\n\t\t\t\t\t\tthat.el.button.removeEventListener(eventName,onConfirm);\r\n\t\t\t\t\t\tonConfirm = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onNavigation\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tif(typeof callback == 'function'){\r\n\t\t\t\t\t\tonNavigation = callback.bind(that);\r\n\t\t\t\t\t}else if(!callback){\r\n\t\t\t\t\t\tonNavigation = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"closeOnClick\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn closeOnClick;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tcloseOnClick = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcloseOnClick = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"tooltips\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor(key in tooltips){\r\n\t\t\t\t\t\tret.push({\r\n\t\t\t\t\t\t\tdate: new Date(parseInt(key)),\r\n\t\t\t\t\t\t\ttext: tooltips[key]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tx.forEach(function(item) {\r\n\t\t\t\t\t\t\tif(item.date && item.text && item.date instanceof Date){\r\n\t\t\t\t\t\t\t\ttooltips[new Date(item.date.getFullYear(),item.date.getMonth(),item.date.getDate()).getTime()] = item.text;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else if(x instanceof Object){\r\n\t\t\t\t\t\tif(x.date && x.text && x.date instanceof Date){\r\n\t\t\t\t\t\t\ttooltips[new Date(x.date.getFullYear(),x.date.getMonth(),x.date.getDate()).getTime()] = x.text;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\ttooltips = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"currentDate\": {\r\n\t\t\t\tget: currentDateGetter,\r\n\t\t\t\tset: currentDateSetter\r\n\t\t\t},\r\n\t\t\t\"setDate\": {\r\n\t\t\t\tset: currentDateSetter\r\n\t\t\t},\r\n\t\t\t\"startDate\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn startDate;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tstartDate = new Date(x);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tstartDate = null;\r\n\t\t\t\t\t\tcurrentYear = new Date().getFullYear();\r\n\t\t\t\t\t\tcurrentMonth = new Date().getMonth() + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"minDate\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn minDate;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tminDate = (x) ? new Date(x) : null ;\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"maxDate\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn maxDate;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tmaxDate = (x) ? new Date(x) : null ;\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"container\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn container;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof String){\r\n\t\t\t\t\t\tvar y = document.querySelector(x);\r\n\t\t\t\t\t\tif(y){\r\n\t\t\t\t\t\t\tcontainer = y;\r\n\t\t\t\t\t\t\tif(container != document.body){\r\n\t\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.error(\"Container doesn't exist\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(x instanceof HTMLElement){\r\n\t\t\t\t\t\tcontainer = x;\r\n\t\t\t\t\t\tif(container != document.body){\r\n\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error(\"Invalid type\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"inline\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn inline;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tinline = true;\r\n\t\t\t\t\t\tthat.el.classList.add('inline');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tinline = false;\r\n\t\t\t\t\t\tthat.el.classList.remove('inline');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t});\r\n\r\n\t\tinit();\r\n\t\tsetDate();\r\n\r\n\t\treturn Object.freeze(that);\r\n\t};\r\n\r\n\tfunction whichAnimationEvent(){\r\n\t    var t;\r\n\t    var el = document.createElement('fakeelement');\r\n\t    var transitions = {\r\n\t      'animation':'animationend',\r\n\t      'OAnimation':'oanimationend',\r\n\t      'MozAnimation':'animationend',\r\n\t      'WebkitAnimation':'webkitAnimationEnd',\r\n\t      '':'MSAnimationEnd'\r\n\t    };\r\n\r\n\t    for(t in transitions){\r\n\t        if( el.style[t] !== undefined ){\r\n\t            return transitions[t];\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\tvar template = \t'<div class=\"d-title\"></div>' +\r\n\t\t\t\t\t'<div class=\"d-calendar\">' +\r\n\t\t\t\t\t\t'<div class=\"d-header\">' +\r\n\t\t\t\t\t\t\t'<i id=\"d-previous\"></i>' +\r\n\t\t\t\t\t\t\t'<p><span class=\"d-month\"></span><span class=\"d-year\"></span></p>' +\r\n\t\t\t\t\t\t\t'<i id=\"d-next\"></i>' +\r\n\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t'<div class=\"d-month-picker\">' +\r\n\t\t\t\t\t\t\t'<div data-month=\"1\">1</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"2\">2</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"3\">3</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"4\">4</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"5\">5</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"6\">6</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"7\">7</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"8\">8</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"9\">9</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"10\">10</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"11\">11</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"12\">12</div>' +\r\n\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t'<div class=\"d-year-picker\">' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-5\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-4\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-3\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-2\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-1\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"0\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"1\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"2\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"3\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"4\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"5\"></div>' +\r\n\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t'<div class=\"d-weekdays\"></div>' +\r\n\t\t\t\t\t\t'<div class=\"d-tables\"></div>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<div class=\"d-legend\"></div>' +\r\n\t\t\t\t\t'<button class=\"d-confirm\"></button>' +\r\n\t\t\t\t\t'<div class=\"d-overlay\"></div>';\r\n\r\n\tvar getBrowserVersion =  function(){\r\n\t\tvar browser = {\r\n\t\t\ttype: null,\r\n\t\t\tversion: null\r\n\t\t}\r\n\r\n\t\tvar ua= navigator.userAgent, tem, ios,\r\n\t    M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n\t    ios = ua.match(/(iphone|ipad)\\s+OS\\s+([\\d+_]+\\d+)/i) || [];\r\n\t    if(/trident/i.test(M[1])){\r\n\t        tem=  /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n\t        browser.type = 'MSIE';\r\n\t        browser.version = parseInt(tem[1]);\r\n\t        return browser;\r\n\t    }\r\n\t    if(M[1]=== 'Chrome'){\r\n\t        tem= ua.match(/\\bOPR\\/(\\d+)/)\r\n\t        if(tem!= null) return 'Opera '+tem[1];\r\n\t    }\r\n\t    if(ios[1]){\r\n\t    \treturn browser = {\r\n\t    \t\ttype: 'iOS',\r\n\t    \t\tversion: ios[2]\r\n\t    \t};\r\n\t    }\r\n\t    M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\r\n\t    if((tem= ua.match(/version\\/(\\d+)/i))!= null) M.splice(1, 1, tem[1]);\r\n\t    browser.type = M[0];\r\n\t    browser.version = parseInt(M[1]);\r\n\r\n\t    return browser;\r\n\t}\r\n\r\n\t/* Spread it to the world! */\r\n\tif ( typeof define === 'function' && define.amd ) define('Datepickk', Datepickk);\r\n\telse if ( typeof exports === 'object' ) module.exports = Datepickk;\r\n\telse window.Datepickk = Datepickk;\r\n})();\r\n"]}